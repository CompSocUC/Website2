<VirtualHost *:80>
    ServerName www.compsoc.org.nz
    ServerAlias www.compsoc.org.nz

    DocumentRoot /var/www/html/
    ServerAdmin contact-us@compsoc.org.nz
    ErrorLog /var/log/apache2/compsoc.org.nz-error_log
    CustomLog /var/log/apache2/compsoc.org.nz-access_log common

	# TODO: uncomment later
    # WSGIScriptAlias /pi /home/compsoc/pi-board/app.wsgi
    WSGIScriptAlias / /web/app.wsgi
    WSGIScriptAlias /static /web/static

	# TODO: add pi-board

    # <Directory /home/compsoc/pi-board/>
	# <Files app.wsgi>
		# Require all granted
	# </Files>
    # </Directory>

    <Directory /web/>
	<Files app.wsgi>
		Require all granted
	</Files>
    </Directory>
    <Directory /web/static/>
	Require all granted
    </Directory>

    <Directory /var/www/html/>
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Order allow,deny
        allow from all
    </Directory>

	# TODO: enable when ready to add HTTPS back

    # RewriteEngine on
    # RewriteCond %{SERVER_NAME} =www.compsoc.org.nz
    # RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,QSA,R=permanent]
    # RewriteCond %{HTTPS} off
    # RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>
# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
